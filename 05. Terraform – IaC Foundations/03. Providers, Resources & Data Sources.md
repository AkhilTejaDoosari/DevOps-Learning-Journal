# **03. Providers, Resources & Data Sources — How Terraform Talks, Builds, and Reads**

> *A simple chapter on how Terraform connects to the cloud, creates things, and looks up what already exists.*

---

## Table of Contents

1. [Why Terraform Needs Providers](#1-why-terraform-needs-providers)
2. [Resources — The Things Terraform Creates](#2-resources--the-things-terraform-creates)
3. [Data Sources — Reading Instead of Building](#3-data-sources--reading-instead-of-building)
4. [How Terraform Connects Everything](#4-how-terraform-connects-everything)
5. [Implicit vs Explicit Dependencies](#5-implicit-vs-explicit-dependencies)
6. [Why This Layer Matters](#6-why-this-layer-matters)
7. [Diagrams](#7-diagrams)

---

<details>
<summary><strong>1. Why Terraform Needs Providers</strong></summary>

Terraform doesn’t understand clouds by default.
It doesn’t naturally know what a VPC is, how to launch an EC2 instance, or what fields an S3 bucket requires. It needs a translator — something that teaches it how to talk to each platform.

That translator is the **provider**.

The AWS provider tells Terraform what resources exist, how to create them, and what data AWS returns. Think of it like a language pack — Terraform brings the structure, the provider brings the vocabulary.

Without providers, Terraform is just a tool holding a blueprint with no one to build it.

</details>

---

<details>
<summary><strong>2. Resources — The Things Terraform Creates</strong></summary>

Resources are the actual pieces of cloud infrastructure you want — the building blocks of your system.

A VPC.
A subnet.
An EC2 instance.
A security group.

Each resource block in your `.tf` files is simply Terraform’s way of saying,
“Here is one thing I want AWS to create.”

The important part is that you’re not writing instructions — you’re describing the final shape. Terraform figures out the steps internally.

Resources are the bricks, beams, and wires of your architecture. Terraform places them based on the relationships you describe.

</details>

---

<details>
<summary><strong>3. Data Sources — Reading Instead of Building</strong></summary>

Sometimes you need information from AWS without creating anything new.

For example:

* the latest Amazon Linux AMI
* the ID of an existing VPC
* details in another team’s resources
* attributes of something created outside Terraform

That’s where **data sources** come in.

A data source lets Terraform read existing information.
It’s a lookup, not a creation.
It’s your way of saying, “I need this detail so I can build the next part correctly.”

Resources create.
Data sources read.
Terraform needs both.

</details>

---

<details>
<summary><strong>4. How Terraform Connects Everything</strong></summary>

Terraform looks at all the references in your files and builds a relationship map automatically. If one resource depends on another — for example, an EC2 instance needing a subnet ID — Terraform understands the order without you telling it.

This is where Terraform feels smart.
You write the connections, and it determines the flow.

Terraform doesn’t rely on the order of the files or sections.
It relies only on the relationships you express.

It sees:

* which resource needs which
* what must exist first
* what depends on something else

And then it builds a graph that guides the entire apply.

</details>

---

<details>
<summary><strong>5. Implicit vs Explicit Dependencies</strong></summary>

Terraform usually figures out dependencies just by reading references.
If `aws_instance.web` uses `aws_subnet.main.id`, Terraform knows the subnet must be created first. That’s an **implicit** dependency — based on usage.

Sometimes you need a dependency even when Terraform can’t infer it.
That’s when you use **explicit** dependencies through the `depends_on` argument.

You won’t use it often, but it’s helpful when something indirectly requires another resource or a service needs to settle before another begins.

Implicit is automatic.
Explicit is manual.
Terraform supports both so your setup stays predictable.

</details>

---

<details>
<summary><strong>6. Why This Layer Matters</strong></summary>

Providers, resources, and data sources form the core of how Terraform interacts with AWS. Providers let Terraform speak the language, resources shape the world, and data sources help Terraform understand what’s already there.

Once you get this layer, everything else in Terraform — variables, modules, workspaces, remote state — becomes much easier to understand. It's the part where Terraform stops feeling abstract and starts making sense.

</details>

---

<details>
<summary><strong>7. Diagrams</strong></summary>

### **How Terraform Connects the Pieces**

```
      Provider (AWS)
            |
            v
   +------------------+
   |   Resources      | ---> Creates things
   +------------------+
            |
            v
   +------------------+
   |   Data Sources   | ---> Reads existing things
   +------------------+
```

### **Relationship Graph (Simplified)**

```
Resource A  --->  Resource B
      ^                |
      |                v
  Data Source X    Resource C
```

The provider teaches Terraform how AWS works.
Resources describe what you want to create.
Data sources supply information Terraform needs to build correctly.
Terraform reads all these connections, builds its internal graph, and decides the safest order for everything.

When these three ideas click, Terraform stops feeling like a black box and starts feeling like a system that’s simply following your design.

</details>

---