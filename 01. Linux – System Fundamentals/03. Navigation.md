# **03. Navigation — Moving Through the Filesystem**
> Mastering paths, directories, and basic data flow.

---

## Table of Contents
- [1. Why Navigation Matters](#1-why-navigation-matters)
- [2. The Filesystem Tree Model](#2-the-filesystem-tree-model)
- [3. Current Working Directory](#3-current-working-directory)
- [4. Paths: Absolute vs Relative](#4-paths-absolute-vs-relative)
- [5. Mastering ls: Listing Files](#5-mastering-ls-listing-files)
- [6. Hidden Files and Dotfiles](#6-hidden-files-and-dotfiles)
- [7. Output Redirection Basics](#7-output-redirection-basics)
- [8. Input Redirection](#8-input-redirection)
- [9. Pipes: Chaining Commands](#9-pipes-chaining-commands)
- [10. Real-World Scenarios](#10-real-world-scenarios)
- [11. Commands Reference](#11-commands-reference)
- [12. Quick Reference](#12-quick-reference)

---

<details>
<summary><strong>1. Why Navigation Matters</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

Every server task starts with knowing where you are.

Deploying code? You need to find the right directory.
Checking logs? You navigate to `/var/log`.
Managing configs? You go to `/etc`.

Navigation isn't just "moving around."
It's about:
- understanding absolute vs relative paths
- listing files efficiently
- filtering output quickly
- redirecting data where it needs to go

When you're SSH'd into production at 2 AM debugging an issue, confident navigation saves time.

</div>

</details>

---

<details>
<summary><strong>2. The Filesystem Tree Model</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### NAV-001 — Filesystem Hierarchy

Linux organizes everything as an inverted tree starting at `/` (root).

```
/                           (root — top of tree)
├── home/
│   ├── akhil/
│   │   ├── projects/
│   │   ├── documents/
│   │   └── .bashrc
│   └── navya/
├── etc/                    (system config files)
├── var/
│   ├── log/                (system logs)
│   └── www/                (web server files)
├── tmp/                    (temporary files)
├── usr/
│   ├── bin/                (user binaries)
│   └── local/
└── boot/                   (kernel, bootloader)
```

**Key Insight:**
No "drives" like Windows (C:, D:).
Everything lives under `/`.

**Key Directories:**
- `/` — root (top of tree)
- `/home` — user home directories
- `/etc` — system configuration files
- `/var` — variable data (logs, databases)
- `/tmp` — temporary files (cleared on reboot)
- `/usr` — user programs and utilities
- `/bin` — essential binaries
- `/boot` — kernel and bootloader files

</div>

</details>

---

<details>
<summary><strong>3. Current Working Directory</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### NAV-002 — Understanding CWD

The shell always operates from some location in the tree — the **Current Working Directory (CWD)**.

Think of it as "where you are right now."

**`pwd` (Print Working Directory):**
Tells you the CWD.

```bash copy
pwd
# Output: /home/akhil
```

**`cd` (Change Directory):**
Moves you to a different directory.

```bash copy
cd projects           # relative path
cd /var/log           # absolute path
cd ~                  # go to home directory
cd -                  # go to previous directory
cd ..                 # go up one level
```

**Special Shortcuts:**
- `.` = current directory
- `..` = parent directory
- `~` = your home directory (`/home/username`)
- `-` = previous directory

**Example Flow:**
```bash copy
pwd                    # Output: /home/akhil
cd projects            # relative path
pwd                    # Output: /home/akhil/projects
cd ..                  # go up one level
pwd                    # Output: /home/akhil
cd /var/log            # absolute path
pwd                    # Output: /var/log
cd -                   # go back to previous directory
pwd                    # Output: /home/akhil
```

</div>

</details>

---

<details>
<summary><strong>4. Paths: Absolute vs Relative</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### NAV-003 — Path Types

**Absolute Path:**
Starts from root: `/home/akhil/projects`
Always works regardless of your CWD.

**Relative Path:**
Starts from your CWD.
If you're in `/home/akhil`, then `cd projects` takes you to `/home/akhil/projects`.

**Parent Directory (`..`):**
Means "parent directory," so `cd ..` moves you up one level.

**Example:**
```bash copy
cd /home/akhil        # absolute
pwd                   # /home/akhil
cd projects           # relative
pwd                   # /home/akhil/projects
cd ../documents       # relative (up one, then into documents)
pwd                   # /home/akhil/documents
```

</div>

</details>

---

<details>
<summary><strong>5. Mastering ls: Listing Files</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### NAV-004 — ls Command

The `ls` command shows you what's in the current directory (or a specified directory).

**Common Options:**
- `-l` (long format) — adds details: permissions, owner, size, timestamp (alphabetical order)
- `-a` (all) — includes hidden files (those beginning with `.`)
- `-h` (human-readable) — prints file sizes in KB/MB/GB units when used with `-l`
- `-t` (time) — sorts by modification time, newest first
- `-r` (reverse) — swaps the sort order (oldest first when combined with `-t`)
- `-d` (directory) — shows information about the directory itself rather than its contents
- `-S` (size) — sorts by file size, largest first

**Combining Options:**
You can chain multiple flags after a single `-`, for example `ls -lh` or `ls -ltr`. Order doesn't matter: `ls -lt -r` is equivalent to `ls -lrt`.

**Examples:**
```bash copy
ls                    # basic list
ls -l                 # detailed list, alphabetical
ls -lr                # detailed list, reverse alphabetical
ls -a                 # include hidden files
ls -lh                # detailed with human-readable sizes
ls -lt                # sort by time, newest first
ls -ltr               # sort by time, oldest first
ls -lS                # sort by size, largest first
ls -ld /var/log       # show directory info, not contents
```

</div>

</details>

---

<details>
<summary><strong>6. Hidden Files and Dotfiles</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### NAV-005 — Hidden Files

Files and directories starting with `.` are hidden by default.

**Examples:**
- `.bashrc` — bash configuration
- `.ssh/` — SSH keys and config
- `.git/` — git repository data

**Viewing Hidden Files:**
```bash copy
ls -a
```

**Why Hidden Files Exist:**
To reduce clutter. Config files don't need to be visible all the time.

</div>

</details>

---

<details>
<summary><strong>7. Output Redirection Basics</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### NAV-006 — Output Redirection

Redirection sends command output to files instead of the terminal.

**`>` (Redirect and Overwrite):**
Sends stdout to a file, overwriting existing content.

```bash copy
ls -l > file_list.txt
# Saves ls output to file_list.txt (overwrites if exists)
```

**`>>` (Redirect and Append):**
Sends stdout to a file, appending to existing content.

```bash copy
echo "New entry" >> logfile.txt
# Adds "New entry" to the end of logfile.txt
```

**Use Cases:**
- Saving command output: `ps aux > processes.txt`
- Logging: `echo "Backup complete" >> backup.log`
- Capturing errors: `command 2> errors.txt` (stderr redirection)

</div>

</details>

---

<details>
<summary><strong>8. Input Redirection</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### NAV-007 — Input Redirection

**`<` (Redirect Input):**
Feeds file content into a command as stdin.

```bash copy
wc -l < file.txt
# Counts lines in file.txt
```

**Practical Example:**
```bash copy
sort < unsorted.txt > sorted.txt
# Reads unsorted.txt, sorts it, writes to sorted.txt
```

</div>

</details>

---

<details>
<summary><strong>9. Pipes: Chaining Commands</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### NAV-008 — Pipes

**Pipe (`|`):**
Connects the stdout of one command directly into the stdin of the next. Enables building complex, modular one-liners without temporary files.

**Basic Example:**
```bash copy
ls -l | less
# Lists files and pipes output to 'less' for scrolling
```

**Filtering Output:**
```bash copy
ls -l | grep "txt"
# Lists files, shows only lines containing "txt"
```

**Counting Results:**
```bash copy
ls | wc -l
# Counts number of files/directories in current directory
```

**Why Pipes Matter:**
They let you chain commands together without creating temporary files.

**Common Pattern:**
```bash copy
command1 | command2 | command3
```

Each command processes the output of the previous one.

---

### NAV-009 — Combining Navigation and Output

**Saving Directory Listings:**
```bash copy
ls -lh /var/log > log_files.txt
```

**Finding and Saving:**
```bash copy
ls -lt | head -10 > recent_files.txt
# Save 10 most recently modified files
```

**Navigating and Checking:**
```bash copy
cd /etc
ls *.conf | wc -l
# Count .conf files in /etc
```

</div>

</details>

---

<details>
<summary><strong>10. Real-World Scenarios</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### Scenario 1: Lost in Nested Directories

**Symptom:**
Navigated deep into subdirectories, don't know how to get back to home.

**Cause:**
Used relative paths without tracking location.

**Fix:**
```bash copy
pwd                   # see where you are
cd ~                  # go to home directory
# OR
cd                    # cd with no args also goes home
```

**Confirm:**
```bash copy
pwd
# Output: /home/akhil
```

---

### Scenario 2: Need to Check Log Files Quickly

**Symptom:**
Need to see recent entries in nginx logs.

**Cause:**
Logs are in `/var/log/nginx/`, need to navigate and view.

**Fix:**
```bash copy
cd /var/log/nginx
ls -lt                # sort by time, newest first
tail -f access.log    # follow log in real-time
```

**Confirm:**
See live log entries as requests come in.

---

### Scenario 3: Save List of Large Files

**Symptom:**
Need to document which files are taking up space.

**Cause:**
Need to save output of `ls -lh` for reporting.

**Fix:**
```bash copy
ls -lhS > large_files.txt
# -S sorts by size, largest first
```

**Confirm:**
```bash copy
cat large_files.txt
# Output: file list saved
```

---

### Scenario 4: Find Config Files in /etc

**Symptom:**
Need to find all `.conf` files in `/etc`.

**Cause:**
Too many files to scan manually.

**Fix:**
```bash copy
cd /etc
ls *.conf
# OR save to file:
ls *.conf > config_files.txt
```

**Confirm:**
```bash copy
cat config_files.txt
# Output: list of .conf files
```

---

### Scenario 5: Count Files in Directory

**Symptom:**
Need to know how many files are in a directory.

**Cause:**
Too many to count visually.

**Fix:**
```bash copy
ls | wc -l
# Counts lines of ls output
```

**Confirm:**
```bash copy
# Output: 42
```

---

### Scenario 6: Navigate Between Two Directories Frequently

**Symptom:**
Working in `/var/log` and `/home/akhil/projects`, switching back and forth.

**Cause:**
Need faster way than typing full paths.

**Fix:**
```bash copy
cd /var/log
# do work
cd /home/akhil/projects
# do work
cd -                  # jump back to /var/log
cd -                  # jump back to /home/akhil/projects
```

**Confirm:**
Each `cd -` toggles between the two directories.

</div>

</details>

---

<details>
<summary><strong>11. Commands Reference</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

```bash copy
pwd   # show current directory
```

```bash copy
cd <dir>   # change to directory (absolute or relative)
```

```bash copy
cd ~   # go to home directory
```

```bash copy
cd -   # go to previous directory
```

```bash copy
cd ..   # go up one level (parent directory)
```

```bash copy
ls   # list files and directories
```

```bash copy
ls -l   # detailed list (permissions, size, time)
```

```bash copy
ls -a   # include hidden files
```

```bash copy
ls -lh   # long format with human-readable sizes
```

```bash copy
ls -lt   # sort by modification time, newest first
```

```bash copy
ls -ltr   # sort by modification time, oldest first
```

```bash copy
ls -lS   # sort by size, largest first
```

```bash copy
ls -ld /var   # show directory info, not contents
```

```bash copy
ls *.txt   # list only .txt files
```

```bash copy
command > file.txt   # redirect output to file (overwrite)
```

```bash copy
command >> file.txt   # redirect output to file (append)
```

```bash copy
command < file.txt   # use file as input
```

```bash copy
command1 | command2   # pipe output of command1 to command2
```

```bash copy
ls | wc -l   # count files in directory
```

```bash copy
ls -l | grep "txt"   # filter ls output for .txt files
```

```bash copy
ls -lt | head -10   # show 10 most recent files
```

```bash copy
cat file.txt | less   # view file with scrolling
```

</div>

</details>

---

<details>
<summary><strong>12. Quick Reference</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

**Key Concepts:**
- Linux filesystem is an inverted tree starting at `/`
- `pwd` shows current directory, `cd` changes directory
- Absolute paths start from `/`, relative paths start from CWD
- `..` = parent directory, `~` = home directory, `-` = previous directory
- Hidden files start with `.` and need `-a` to see
- `>` redirects output (overwrite), `>>` appends
- `<` redirects input from file
- `|` pipes output from one command to another

**Special Path Shortcuts:**

| Shortcut | Meaning |
|----------|---------|
| `.` | Current directory |
| `..` | Parent directory |
| `~` | Home directory (`/home/username`) |
| `-` | Previous directory |
| `/` | Root (top of filesystem tree) |

**ls Options:**

| Option | Description | Example |
|--------|-------------|---------|
| `-l` | Long format (detailed) | `ls -l` |
| `-a` | Include hidden files | `ls -a` |
| `-h` | Human-readable sizes | `ls -lh` |
| `-t` | Sort by time | `ls -lt` |
| `-r` | Reverse order | `ls -lr` |
| `-S` | Sort by size | `ls -lS` |
| `-d` | Show directory itself | `ls -ld /var` |

**Redirection Operators:**

| Operator | Function | Example |
|----------|----------|---------|
| `>` | Redirect stdout (overwrite) | `ls > files.txt` |
| `>>` | Redirect stdout (append) | `echo "log" >> file.txt` |
| `<` | Redirect stdin | `wc -l < file.txt` |
| `|` | Pipe stdout to stdin | `ls | wc -l` |

**Key Directories:**

| Directory | Purpose |
|-----------|---------|
| `/` | Root (top of tree) |
| `/home` | User home directories |
| `/etc` | System configuration files |
| `/var` | Variable data (logs, databases) |
| `/tmp` | Temporary files |
| `/usr` | User programs |
| `/boot` | Kernel and bootloader |

**What's Next:**
Now that you can navigate and list files, the next file covers file operations — creating, copying, moving, deleting, and viewing file contents.

</div>

</details>

---