# **03. Navigation — Moving Through the Filesystem**
> Moving through the filesystem with confidence — paths, directories, and basic data flow.

---

## Table of Contents
- [1. Why Navigation Matters](#1-why-navigation-matters)
- [2. The Mental Block Most People Hit](#2-the-mental-block-most-people-hit)
- [3. Filesystem Architecture: Inside-Out](#3-filesystem-architecture-inside-out)
- [4. Core Concepts](#4-core-concepts)
- [5. Real-World Scenarios](#5-real-world-scenarios)
- [6. Commands Toolbox](#6-commands-toolbox)
- [7. Quick Summary](#7-quick-summary)

---

<details>
<summary><strong>1. Why Navigation Matters</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

Every server task starts with knowing where you are.

Deploying code? You need to find the right directory.
Checking logs? You navigate to `/var/log`.
Managing configs? You go to `/etc`.

Navigation isn't just "moving around."
It's about:
- understanding absolute vs relative paths
- listing files efficiently
- filtering output quickly
- redirecting data where it needs to go

When you're SSH'd into production at 2 AM debugging an issue, confident navigation saves time.

</div>

</details>

---

<details>
<summary><strong>2. The Mental Block Most People Hit</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

Beginners get lost because they don't understand the filesystem tree.

**Common Problems:**
- "I ran `cd /var` but now I can't get back"
- "What's the difference between `/home/akhil` and `~/`?"
- "Why does `ls` show different things depending on where I am?"
- "How do I save command output to a file?"

**The Root Cause:**
Not understanding:
- where you are in the tree (current working directory)
- how paths work (absolute vs relative)
- how to move efficiently
- how data flows (stdout, redirection, pipes)

**What This File Fixes:**
You'll understand the filesystem tree model, master `cd`, `pwd`, and `ls`, and learn basic redirection so you can capture and move data.

</div>

</details>

---

<details>
<summary><strong>3. Filesystem Architecture: Inside-Out</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

Linux organizes everything as an inverted tree starting at `/` (root).

```
/                           (root — top of tree)
├── home/
│   ├── akhil/
│   │   ├── projects/
│   │   ├── documents/
│   │   └── .bashrc
│   └── navya/
├── etc/                    (system config files)
├── var/
│   ├── log/                (system logs)
│   └── www/                (web server files)
├── tmp/                    (temporary files)
├── usr/
│   ├── bin/                (user binaries)
│   └── local/
└── boot/                   (kernel, bootloader)
```

**Key Insight:**
No "drives" like Windows (C:, D:).
Everything lives under `/`.

**Current Working Directory (CWD):**
The shell always operates from some location in this tree.
Think of it as "where you are right now."

**Absolute vs Relative Paths:**

**Absolute Path:**
Starts from root (`/`). Always the same regardless of CWD.
```
/home/akhil/projects
```

**Relative Path:**
Starts from your CWD.
If you're in `/home/akhil`, then `projects` means `/home/akhil/projects`.

**Special Shortcuts:**
- `.` = current directory
- `..` = parent directory
- `~` = your home directory (`/home/username`)
- `-` = previous directory

**Example Flow:**
```
pwd                    # Output: /home/akhil
cd projects            # relative path
pwd                    # Output: /home/akhil/projects
cd ..                  # go up one level
pwd                    # Output: /home/akhil
cd /var/log            # absolute path
pwd                    # Output: /var/log
cd -                   # go back to previous directory
pwd                    # Output: /home/akhil
```

</div>

</details>

---

<details>
<summary><strong>4. Core Concepts</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### NAV-001 — Filesystem Hierarchy

Linux organizes files and directories in a single inverted tree, starting at the root directory (`/`). Every file and directory lives somewhere under `/`, with no "drives" like in Windows.

**Key Directories:**
- `/` — root (top of tree)
- `/home` — user home directories
- `/etc` — system configuration files
- `/var` — variable data (logs, databases)
- `/tmp` — temporary files (cleared on reboot)
- `/usr` — user programs and utilities
- `/bin` — essential binaries
- `/boot` — kernel and bootloader files

---

### NAV-002 — Current Working Directory (CWD)

The shell always operates in some directory — the CWD. You can think of it as "where you are right now" in the filesystem.

**`pwd` (Print Working Directory):**
Tells you the CWD.

```bash copy
pwd
# Output: /home/akhil
```

**`cd` (Change Directory):**
Moves you to a different directory, either by name or by path.

```bash copy
cd projects           # relative path
cd /var/log           # absolute path
cd ~                  # go to home directory
cd -                  # go to previous directory
cd ..                 # go up one level
```

---

### NAV-003 — Absolute vs Relative Paths

**Absolute Path:**
Starts from root: `/home/akhil/projects`
Always works regardless of your CWD.

**Relative Path:**
Starts from your CWD.
If you're in `/home/akhil`, then `cd projects` takes you to `/home/akhil/projects`.

**Parent Directory (`..`):**
Means "parent directory," so `cd ..` moves you up one level.

**Example:**
```bash copy
cd /home/akhil        # absolute
pwd                   # /home/akhil
cd projects           # relative
pwd                   # /home/akhil/projects
cd ../documents       # relative (up one, then into documents)
pwd                   # /home/akhil/documents
```

---

### NAV-004 — Listing Files with `ls`

The `ls` command shows you what's in the current directory (or a specified directory). By default, it lists filenames only.

**Common Options:**
- `-l` (long format) — adds details: permissions, owner, size, timestamp (alphabetical order)
- `-a` (all) — includes hidden files (those beginning with `.`)
- `-h` (human-readable) — prints file sizes in KB/MB/GB units when used with `-l`
- `-t` (time) — sorts by modification time, newest first
- `-r` (reverse) — swaps the sort order (oldest first when combined with `-t`)
- `-d` (directory) — shows information about the directory itself rather than its contents

**Combining Options:**
You can chain multiple flags after a single `-`, for example `ls -lh` or `ls -ltr`. Order doesn't matter: `ls -lt -r` is equivalent to `ls -lrt`.

**Examples:**
```bash copy
ls                    # basic list
ls -l                 # detailed list, alphabetical
ls -a                 # include hidden files
ls -lh                # detailed with human-readable sizes
ls -lt                # sort by time, newest first
ls -ltr               # sort by time, oldest first
ls -ld /var/log       # show directory info, not contents
```

---

### NAV-005 — Hidden Files

Files and directories starting with `.` are hidden by default.

**Examples:**
- `.bashrc` — bash configuration
- `.ssh/` — SSH keys and config
- `.git/` — git repository data

**Viewing Hidden Files:**
```bash copy
ls -a
```

**Why Hidden Files Exist:**
To reduce clutter. Config files don't need to be visible all the time.

---

### NAV-006 — Basic Redirection (Output)

Redirection sends command output to files instead of the terminal.

**`>` (Redirect and Overwrite):**
Sends stdout to a file, overwriting existing content.

```bash copy
ls -l > file_list.txt
# Saves ls output to file_list.txt (overwrites if exists)
```

**`>>` (Redirect and Append):**
Sends stdout to a file, appending to existing content.

```bash copy
echo "New entry" >> logfile.txt
# Adds "New entry" to the end of logfile.txt
```

**Use Cases:**
- Saving command output: `ps aux > processes.txt`
- Logging: `echo "Backup complete" >> backup.log`
- Capturing errors: `command 2> errors.txt` (stderr redirection)

---

### NAV-007 — Basic Redirection (Input)

**`<` (Redirect Input):**
Feeds file content into a command as stdin.

```bash copy
wc -l < file.txt
# Counts lines in file.txt
```

**Practical Example:**
```bash copy
sort < unsorted.txt > sorted.txt
# Reads unsorted.txt, sorts it, writes to sorted.txt
```

---

### NAV-008 — Pipes (Simple Use)

**Pipe (`|`):**
Connects the stdout of one command directly into the stdin of the next. Enables building complex, modular one-liners without temporary files.

**Basic Example:**
```bash copy
ls -l | less
# Lists files and pipes output to 'less' for scrolling
```

**Filtering Output:**
```bash copy
ls -l | grep "txt"
# Lists files, shows only lines containing "txt"
```

**Counting Results:**
```bash copy
ls | wc -l
# Counts number of files/directories in current directory
```

**Why Pipes Matter:**
They let you chain commands together without creating temporary files.

**Common Pattern:**
```bash copy
command1 | command2 | command3
```

Each command processes the output of the previous one.

---

### NAV-009 — Combining Navigation and Output

**Saving Directory Listings:**
```bash copy
ls -lh /var/log > log_files.txt
```

**Finding and Saving:**
```bash copy
ls -lt | head -10 > recent_files.txt
# Save 10 most recently modified files
```

**Navigating and Checking:**
```bash copy
cd /etc
ls *.conf | wc -l
# Count .conf files in /etc
```

</div>

</details>

---

<details>
<summary><strong>5. Real-World Scenarios</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

### Scenario 1: Lost in Nested Directories

**Symptom:**
Navigated deep into subdirectories, don't know how to get back to home.

**Cause:**
Used relative paths without tracking location.

**Fix:**
```bash copy
pwd                   # see where you are
cd ~                  # go to home directory
# OR
cd                    # cd with no args also goes home
```

**Confirm:**
```bash copy
pwd
# Output: /home/akhil
```

---

### Scenario 2: Need to Check Log Files Quickly

**Symptom:**
Need to see recent entries in nginx logs.

**Cause:**
Logs are in `/var/log/nginx/`, need to navigate and view.

**Fix:**
```bash copy
cd /var/log/nginx
ls -lt                # sort by time, newest first
tail -f access.log    # follow log in real-time
```

**Confirm:**
See live log entries as requests come in.

---

### Scenario 3: Save List of Large Files

**Symptom:**
Need to document which files are taking up space.

**Cause:**
Need to save output of `ls -lh` for reporting.

**Fix:**
```bash copy
ls -lhS > large_files.txt
# -S sorts by size, largest first
```

**Confirm:**
```bash copy
cat large_files.txt
# Output: file list saved
```

---

### Scenario 4: Find Config Files in /etc

**Symptom:**
Need to find all `.conf` files in `/etc`.

**Cause:**
Too many files to scan manually.

**Fix:**
```bash copy
cd /etc
ls *.conf
# OR save to file:
ls *.conf > config_files.txt
```

**Confirm:**
```bash copy
cat config_files.txt
# Output: list of .conf files
```

---

### Scenario 5: Count Files in Directory

**Symptom:**
Need to know how many files are in a directory.

**Cause:**
Too many to count visually.

**Fix:**
```bash copy
ls | wc -l
# Counts lines of ls output
```

**Confirm:**
```bash copy
# Output: 42
```

---

### Scenario 6: Navigate Between Two Directories Frequently

**Symptom:**
Working in `/var/log` and `/home/akhil/projects`, switching back and forth.

**Cause:**
Need faster way than typing full paths.

**Fix:**
```bash copy
cd /var/log
# do work
cd /home/akhil/projects
# do work
cd -                  # jump back to /var/log
cd -                  # jump back to /home/akhil/projects
```

**Confirm:**
Each `cd -` toggles between the two directories.

</div>

</details>

---

<details>
<summary><strong>6. Commands Toolbox</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

```bash copy
pwd   # show current directory
```

```bash copy
cd <dir>   # change to directory (absolute or relative)
```

```bash copy
cd ~   # go to home directory
```

```bash copy
cd -   # go to previous directory
```

```bash copy
cd ..   # go up one level (parent directory)
```

```bash copy
ls   # list files and directories
```

```bash copy
ls -l   # detailed list (permissions, size, time)
```

```bash copy
ls -a   # include hidden files
```

```bash copy
ls -lh   # long format with human-readable sizes
```

```bash copy
ls -lt   # sort by modification time, newest first
```

```bash copy
ls -ltr   # sort by modification time, oldest first
```

```bash copy
ls -lS   # sort by size, largest first
```

```bash copy
ls -ld /var   # show directory info, not contents
```

```bash copy
ls *.txt   # list only .txt files
```

```bash copy
command > file.txt   # redirect output to file (overwrite)
```

```bash copy
command >> file.txt   # redirect output to file (append)
```

```bash copy
command < file.txt   # use file as input
```

```bash copy
command1 | command2   # pipe output of command1 to command2
```

```bash copy
ls | wc -l   # count files in directory
```

```bash copy
ls -l | grep "txt"   # filter ls output for .txt files
```

```bash copy
ls -lt | head -10   # show 10 most recent files
```

```bash copy
cat file.txt | less   # view file with scrolling
```

</div>

</details>

---

<details>
<summary><strong>7. Quick Summary</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

- Linux filesystem is an inverted tree starting at `/`
- `pwd` shows current directory, `cd` changes directory
- Absolute paths start from `/`, relative paths start from CWD
- `..` = parent directory, `~` = home directory, `-` = previous directory
- `ls` lists files, use `-l`, `-a`, `-h`, `-t`, `-r`, `-S`, `-d` for different views
- Hidden files start with `.` and need `-a` to see
- `>` redirects output (overwrite), `>>` appends
- `<` redirects input from file
- `|` pipes output from one command to another
- Chain commands with pipes to filter and process data

**What's Next:**
Now that you can navigate and list files, the next file covers file operations — creating, copying, moving, deleting, and viewing file contents.

</div>

</details>

---