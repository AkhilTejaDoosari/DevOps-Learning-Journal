# **03. Navigation — Moving Through the Filesystem Like a Pro**
> Master paths, listing, and data flow in minutes

---

## What We'll Cover

- [1. Why Navigation Isn't Just cd and ls](#1-why-navigation-isnt-just-cd-and-ls)
- [2. The Filesystem Tree (Finally Makes Sense)](#2-the-filesystem-tree)
- [3. Paths: Absolute vs Relative](#3-paths-absolute-vs-relative)
- [4. Listing Files Like a Pro](#4-listing-files-like-a-pro)
- [5. Hidden Files (The Stuff That Actually Matters)](#5-hidden-files)
- [6. Redirects and Pipes (Power User Territory)](#6-redirects-and-pipes)
- [7. Real Production Scenarios](#7-real-production-scenarios)
- [8. Quick Command Reference](#8-quick-command-reference)

---

<details>
<summary><strong>1. Why Navigation Isn't Just cd and ls</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

## The Real Skill

You SSH into a production server. Your app is down. You need to:
- Find the log files (where are they?)
- Check the config (which directory?)
- Restart the service (navigate there first)

**Fast, confident navigation = fast problem solving.**

---

## What Most People Miss

They know `cd` and `ls`. But they don't know:
- **Shortcuts** that save 80% of keystrokes
- **Listing options** that instantly show what matters
- **Pipes** that let you filter/count/save in one line
- **Redirects** that capture output for later

---

## After This File

You'll navigate like someone who's been doing this for years:

```bash
# Instead of:
cd /var/log
cd nginx
ls -la
less access.log

# You'll do:
cd /var/log/nginx && ls -ltr | tail -5
```

**One line. All the context.**

</div>

</details>

---

<details>
<summary><strong>2. The Filesystem Tree (Finally Makes Sense)</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

## Forget Windows Drives

No C:, D:, E: drives here.

**Everything lives under `/` (root).**

```
/                           ← Top of everything
├── home/
│   ├── john/               ← Your home directory
│   │   ├── projects/
│   │   └── .bashrc         ← Config files (hidden)
│   └── sarah/
├── etc/                    ← System configs (nginx, ssh, etc.)
├── var/
│   ├── log/                ← ALL the logs
│   └── www/                ← Web server files
├── tmp/                    ← Temporary (gets wiped)
├── usr/
│   └── bin/                ← Where most programs live
└── opt/                    ← Third-party apps
```

---

## The Directories You'll Actually Use

| Directory | What It's For | When You Go There |
|-----------|--------------|------------------|
| `/home/username` | Your files | Working on projects |
| `/etc` | Configs | Editing nginx, ssh, systemd |
| `/var/log` | Logs | Debugging issues |
| `/opt` | Custom apps | Your deployed applications |
| `/tmp` | Scratch space | Temporary work |

**That's 90% of your daily navigation.**

---

## Key Insight

**No matter how deep you go, you're always somewhere in this tree.**

```bash
pwd
# Output: /home/john/projects/myapp/src
#          ↑ You are here (4 levels deep)
```

</div>

</details>

---

<details>
<summary><strong>3. Paths: Absolute vs Relative</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

## The Confusion

```bash
$ cd logs
bash: cd: logs: No such file or directory
```

**But logs exists!** You can see it!

**Problem:** You're using a relative path, but you're in the wrong directory.

---

## Absolute Paths: Always Work

**Start with `/` (root).**

```bash
cd /var/log
# Works from anywhere
```

**Always explicit. Always predictable.**

---

## Relative Paths: Depend on Where You Are

**No leading `/`.**

```bash
# If you're in /home/john:
cd projects
# Takes you to /home/john/projects

# If you're in /:
cd projects
# Error: /projects doesn't exist
```

---

## The Mental Model

```
Current location: /home/john
     ↓
cd projects              → /home/john/projects (relative)
cd /var/log             → /var/log (absolute)
cd ../sarah             → /home/sarah (relative, up then down)
```

---

## Special Path Shortcuts

| Shortcut | Means | Example |
|----------|-------|---------|
| `.` | Current directory | `./script.sh` |
| `..` | Parent (up one level) | `cd ..` |
| `~` | Your home | `cd ~` |
| `-` | Previous directory | `cd -` |

---

## Real Examples

```bash
# You're in /home/john/projects/myapp

pwd
# /home/john/projects/myapp

cd ..
# Now in /home/john/projects

cd ../documents
# Now in /home/john/documents

cd -
# Back to /home/john/projects (previous dir)

cd ~
# Home: /home/john

cd /var/log
# Absolute path: /var/log
```

---

## Pro Tip: cd - Is Your Friend

**Toggle between two directories:**

```bash
cd /var/log/nginx
# Do some work

cd ~/projects
# Do some work

cd -
# Back to /var/log/nginx

cd -
# Back to ~/projects
```

**No retyping paths. Just flip back and forth.**

---

## Key Takeaway

**Absolute = starts with / (works everywhere)**  
**Relative = depends on pwd (faster but context-dependent)**

Use absolute for clarity, relative for speed.

</div>

</details>

---

<details>
<summary><strong>4. Listing Files Like a Pro</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

## Basic ls Is Not Enough

```bash
$ ls
file1.txt  file2.log  script.sh  data.csv
```

**Cool. But:**
- How big are they?
- Which is newest?
- What are the permissions?

**You need the right options.**

---

## The Options That Matter

### **-l (long format) — Show details**

```bash
ls -l
# Output:
-rw-r--r-- 1 john staff 1234 Jan 15 10:30 file.txt
drwxr-xr-x 5 john staff  160 Jan 14 09:00 projects
```

**Shows:** permissions, owner, size, date, name

---

### **-h (human readable) — Sizes in KB/MB/GB**

```bash
ls -lh
# Output:
-rw-r--r-- 1 john staff  1.2M Jan 15 10:30 video.mp4
-rw-r--r-- 1 john staff   45K Jan 14 09:00 report.pdf
```

**Much better than "1234567 bytes"**

---

### **-t (time sort) — Newest first**

```bash
ls -lt
# Shows most recently modified files first
```

**Perfect for finding "what changed?"**

---

### **-r (reverse) — Flip the order**

```bash
ls -ltr
# Shows oldest first (reverse of -lt)
```

**Great for finding "original files"**

---

### **-S (size sort) — Biggest first**

```bash
ls -lhS
# Shows largest files at top
```

**Find what's eating disk space**

---

### **-a (all) — Show hidden files**

```bash
ls -a
# Output:
.  ..  .bashrc  .ssh  file.txt  projects
```

**Hidden files start with `.`**

---

## Combining Options: The Power Move

```bash
ls -lhtr
# Long format + human sizes + time sorted + reverse
# = Detailed list, oldest files first

ls -lhS
# Long format + human sizes + size sorted
# = Detailed list, largest files first

ls -laht
# All files + human sizes + time sorted
# = Everything, newest first
```

**Chain them together. Order doesn't matter.**

---

## Real Scenario: Find Large Log Files

```bash
cd /var/log
ls -lhS

# Output:
-rw-r--r-- 1 root root 2.1G Jan 15 10:00 nginx/access.log
-rw-r--r-- 1 root root 450M Jan 14 09:00 syslog
-rw-r--r-- 1 root root  12M Jan 13 08:00 auth.log
```

**Boom. Found the 2.1GB log file immediately.**

---

## Real Scenario: What Changed Recently?

```bash
ls -lht | head -5

# Output: 5 most recently modified files
-rw-r--r-- 1 john staff 1.2M Jan 15 10:30 deploy.log
-rw-r--r-- 1 john staff  45K Jan 15 10:28 config.yaml
-rw-r--r-- 1 john staff 234K Jan 15 09:00 app.log
```

**See what was touched in the last hour.**

---

## Key Takeaway

**Don't just `ls`. Use:**
- `-l` for details
- `-h` for readable sizes
- `-t` for time order
- `-S` for size order
- `-a` for hidden files
- `-r` to reverse

**Combine them for instant insight.**

</div>

</details>

---

<details>
<summary><strong>5. Hidden Files (The Stuff That Actually Matters)</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

## What Are Hidden Files?

**Any file/directory starting with `.`**

```bash
ls
# Output: file.txt  projects  data.csv

ls -a
# Output: .bashrc  .ssh  .git  file.txt  projects  data.csv
```

---

## Why They're Hidden

**To reduce clutter.**

Your home directory has dozens of config files:
- `.bashrc` — shell config
- `.ssh/` — SSH keys
- `.gitconfig` — git settings
- `.vimrc` — vim config

**You don't need to see them every time you `ls`.**

---

## The Important Hidden Files

### **~/.bashrc or ~/.zshrc**
Your shell configuration. Aliases, PATH, environment variables.

### **~/.ssh/**
Your SSH keys and config. **Guard this.**

### **.git/**
Git repository data. **Don't delete this.**

### **.env**
Environment variables for apps. Often contains secrets.

---

## Real Scenario: SSH Keys Not Working

```bash
$ ssh server
Permission denied (publickey)
```

**Check if keys exist:**

```bash
ls -la ~/.ssh

# Output:
drwx------  2 john staff   64 Jan 10 10:00 .
drwxr-xr-x 20 john staff  640 Jan 15 09:00 ..
-rw-------  1 john staff 1675 Jan 10 10:00 id_rsa
-rw-r--r--  1 john staff  398 Jan 10 10:00 id_rsa.pub
-rw-r--r--  1 john staff 2145 Jan 14 12:00 known_hosts
```

**Keys exist. Check permissions:**
- `id_rsa` should be `-rw-------` (600)
- `id_rsa.pub` should be `-rw-r--r--` (644)

**If wrong, fix:**
```bash
chmod 600 ~/.ssh/id_rsa
chmod 644 ~/.ssh/id_rsa.pub
```

---

## Key Takeaway

**Hidden files = configuration and important stuff.**

Always check with `ls -a` when troubleshooting.

</div>

</details>

---

<details>
<summary><strong>6. Redirects and Pipes (Power User Territory)</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

## The Basics

By default, commands print to your terminal.

**Redirects and pipes let you:**
- Save output to files
- Chain commands together
- Build powerful one-liners

---

## Output Redirection

### **> (redirect and overwrite)**

```bash
ls -l > files.txt
# Saves ls output to files.txt (overwrites if exists)
```

### **>> (redirect and append)**

```bash
echo "Backup complete" >> backup.log
# Adds line to end of backup.log
```

---

## Real Scenario: Save Directory Listing

```bash
cd /var/log
ls -lhS > large_logs.txt

# Now you have a report of log files by size
cat large_logs.txt
```

---

## Input Redirection

### **< (use file as input)**

```bash
wc -l < file.txt
# Count lines in file.txt
```

```bash
sort < unsorted.txt > sorted.txt
# Read unsorted, sort it, save to sorted
```

---

## Pipes: Chaining Commands

### **| (pipe output to next command)**

```bash
ls -l | grep ".txt"
# List files, show only lines with .txt
```

```bash
ls | wc -l
# Count number of files
```

```bash
ls -lt | head -5
# Show 5 most recent files
```

---

## Real Scenario: Find Large Files

```bash
ls -lhS | head -10
# Show 10 largest files in current directory
```

---

## Real Scenario: Count Config Files

```bash
cd /etc
ls *.conf | wc -l
# Count .conf files

# Or save to file:
ls *.conf > config_list.txt
```

---

## Real Scenario: Monitor Logs Live

```bash
tail -f /var/log/nginx/access.log | grep "ERROR"
# Watch log file, show only errors
```

---

## Combining Everything

```bash
# Find largest log files, save to report
cd /var/log
ls -lhS | head -10 > /tmp/large_logs.txt

# Count running processes
ps aux | wc -l

# Find and sort
ls -l | grep "Jan 15" | sort -k5 -n
# Files from Jan 15, sorted by size
```

---

## Key Takeaway

**> saves output**  
**>> appends output**  
**| chains commands**

**Master these, build powerful one-liners without scripts.**

</div>

</details>

---

<details>
<summary><strong>7. Real Production Scenarios</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

## Scenario 1: Lost in Directories

### **Problem:**
Deep in nested directories, forgot how to get back.

### **Solution:**

```bash
pwd
# See where you are: /home/john/projects/app/src/components

cd
# No arguments = go home

# Or:
cd ~
# Explicit home
```

---

## Scenario 2: Find Recent Log Entries

### **Problem:**
App crashed. Need to see recent logs.

### **Solution:**

```bash
cd /var/log/myapp
ls -ltr | tail -5
# Shows 5 most recent files

# View the latest:
tail -f $(ls -t | head -1)
# Follow the newest log file
```

---

## Scenario 3: Which Config Changed?

### **Problem:**
Something broke after a config change. Which file was edited?

### **Solution:**

```bash
cd /etc/nginx
ls -lt | head -10
# Shows 10 most recently modified files

# Output:
-rw-r--r-- 1 root root 1.2K Jan 15 10:30 nginx.conf
# ↑ This one changed today
```

---

## Scenario 4: Disk Is Full, Find Culprit

### **Problem:**
Disk at 98%. Need to find large files.

### **Solution:**

```bash
cd /var/log
ls -lhS | head -10

# Output:
-rw-r--r-- 1 root root 2.1G Jan 15 nginx/access.log
# ↑ Found it!

# Clean it:
> nginx/access.log
# Truncate the file (empty it but keep it)
```

---

## Scenario 5: Toggle Between Directories

### **Problem:**
Working in two directories, switching constantly.

### **Solution:**

```bash
cd /var/log/nginx
# Work here

cd ~/projects/myapp
# Work here

cd -
# Back to /var/log/nginx

cd -
# Back to ~/projects/myapp
```

**No retyping. Just toggle.**

---

## Scenario 6: Count Files Matching Pattern

### **Problem:**
How many `.conf` files are in `/etc`?

### **Solution:**

```bash
cd /etc
ls *.conf | wc -l

# Output: 42
```

---

## Scenario 7: Document Large Files for Team

### **Problem:**
Need to share list of large files with team.

### **Solution:**

```bash
cd /var/log
ls -lhS | head -20 > /tmp/large_files_report.txt

# Share /tmp/large_files_report.txt
```

---

## Key Takeaway

**Fast navigation = fast problem solving.**

You're not fumbling around. You know exactly where to look.

</div>

</details>

---

<details>
<summary><strong>8. Quick Command Reference</strong></summary>

<div style="margin-left: 16px; margin-right: 16px; margin-top: 8px; margin-bottom: 8px;">

## Navigation Basics

```bash copy
pwd   # show current directory
```

```bash copy
cd /var/log   # change to directory (absolute path)
```

```bash copy
cd logs   # change to directory (relative path)
```

```bash copy
cd   # go to home directory (no arguments)
```

```bash copy
cd ~   # go to home directory (explicit)
```

```bash copy
cd -   # go to previous directory
```

```bash copy
cd ..   # go up one level (parent directory)
```

```bash copy
cd ../..   # go up two levels
```

```bash copy
cd ../../etc   # go up two, then into etc
```

---

## Listing Files

```bash copy
ls   # list files in current directory
```

```bash copy
ls /var/log   # list files in specific directory
```

```bash copy
ls -l   # long format (permissions, size, date)
```

```bash copy
ls -a   # show hidden files (starting with .)
```

```bash copy
ls -lh   # long format with human-readable sizes
```

```bash copy
ls -lt   # sort by modification time, newest first
```

```bash copy
ls -ltr   # sort by time, oldest first
```

```bash copy
ls -lS   # sort by size, largest first
```

```bash copy
ls -lhS   # human sizes, sorted by size
```

```bash copy
ls -lhtr   # human sizes, time sorted, oldest first
```

```bash copy
ls -la   # long format, include hidden files
```

```bash copy
ls -ld /var   # show directory itself, not contents
```

```bash copy
ls *.txt   # list only .txt files
```

```bash copy
ls *.conf   # list only .conf files
```

```bash copy
ls -1   # one file per line
```

---

## Output Redirection

```bash copy
ls -l > files.txt   # save output to file (overwrite)
```

```bash copy
ls -l >> files.txt   # append output to file
```

```bash copy
echo "log entry" >> app.log   # append text to file
```

```bash copy
command 2> errors.txt   # redirect errors to file
```

```bash copy
command &> all_output.txt   # redirect both stdout and stderr
```

```bash copy
command > /dev/null   # discard output
```

---

## Input Redirection

```bash copy
wc -l < file.txt   # count lines using file as input
```

```bash copy
sort < unsorted.txt > sorted.txt   # sort file content
```

```bash copy
cat < file.txt   # read file (same as cat file.txt)
```

---

## Pipes

```bash copy
ls | wc -l   # count files in directory
```

```bash copy
ls -l | grep ".txt"   # filter for .txt files
```

```bash copy
ls -lt | head -5   # show 5 most recent files
```

```bash copy
ls -lt | tail -5   # show 5 oldest files
```

```bash copy
ps aux | grep nginx   # find nginx processes
```

```bash copy
cat file.txt | less   # view file with scrolling
```

```bash copy
ls -lhS | head -10   # show 10 largest files
```

```bash copy
history | grep "docker"   # search command history
```

```bash copy
cat access.log | grep "ERROR" | wc -l   # count errors in log
```

---

## Viewing Files

```bash copy
cat file.txt   # display entire file
```

```bash copy
less file.txt   # view file with scrolling (q to quit)
```

```bash copy
head file.txt   # show first 10 lines
```

```bash copy
head -20 file.txt   # show first 20 lines
```

```bash copy
tail file.txt   # show last 10 lines
```

```bash copy
tail -20 file.txt   # show last 20 lines
```

```bash copy
tail -f file.txt   # follow file in real-time
```

```bash copy
tail -f access.log | grep "ERROR"   # watch for errors
```

---

## Combining Commands

```bash copy
cd /var/log && ls -ltr   # change dir and list
```

```bash copy
pwd && ls   # show location and list files
```

```bash copy
ls -lt | head -5 > recent.txt   # save 5 newest to file
```

```bash copy
find . -name "*.log" | wc -l   # count log files
```

---

## Shortcuts

```bash copy
!!   # repeat last command
```

```bash copy
!$   # last argument of previous command
```

```bash copy
Ctrl+R   # search command history interactively
```

```bash copy
cd !$   # cd to last argument (useful after ls)
```

</div>

</details>

---