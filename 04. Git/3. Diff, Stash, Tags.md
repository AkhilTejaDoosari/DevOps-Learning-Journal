# Diff, Stash, and Tags in Git  

This guide covers essential Git commands for comparing changes, stashing work, and managing tags. These commands are useful for debugging, context switching, and release management.  

## Table of Contents

- [1. Git Diff](#1-git-diff)  
- [2. Git Stash](#2-git-stash)  
- [3. Git Tags](#3-git-tags)  

<details>
<summary><strong>1. Git Diff </strong></summary>

The `git diff` command shows differences between commits, branches, or files. It compares changes line by line.  

### How to Read Diff Output  
- `a/` – Original file (before changes)  
- `b/` – Updated file (after changes)  
- `---` – For deleted lines. 
- `+++` – For added lines. 
- `@@` – Line numbers and change positions  

## 1. `git diff` (Unstaged Changes)
**Command:**
```bash
git diff
```
**Sample Output:**
```diff
diff --git a/index.html b/index.html
index abc123..xyz456 100644
--- a/index.html
+++ b/index.html
@@ -5,7 +5,7 @@
     <title>My Site</title>
   </head>
   <body>
-    <h1>Hello World</h1>
+    <h1>Welcome!</h1>
     <p>This is a paragraph.</p>
   </body>
 </html>
```
🔹 **What you see:**  
- 🔴 Line 7: Removed `"Hello World"`  
- 🟢 Line 7: Added `"Welcome!"`  

---

## 2. `git diff --staged` (Staged Changes)
**Command:**
```bash
git diff --staged
```
**Sample Output:**
```diff
diff --git a/style.css b/style.css
index 111111..222222 100644
--- a/style.css
+++ b/style.css
@@ -1,5 +1,5 @@
 body {
-  background: white;
+  background: lightblue;
   font-family: Arial;
 }
```
🔹 **What you see:**  
- 🔴 Line 2: Removed `white` background  
- 🟢 Line 2: Added `lightblue` background  

---

## 3. `git diff commit1..commit2` (Compare Commits)
**Command:**
```bash
git diff commit1..defcommit2
```
**Sample Output:**
```diff
diff --git a/README.md b/README.md
index 333333..444444 100644
--- a/README.md
+++ b/README.md
@@ -1,3 +1,4 @@
 # Project
-This is old text.
+This is new text!
+Added a new line here.
```
🔹 **What you see:**  
- 🔴 Line 2: Removed old text  
- 🟢 Lines 2-3: Added new content  

---

## 4. `git diff --color-words` (Word-Level Changes)
**Command:**
```bash
git diff --color-words
```
**Sample Output:**
```bash
diff --git a/app.js b/app.js
index 555555..666666 100644
--- a/app.js
+++ b/app.js
@@ -1 +1 @@
- console.log("Error");
+ console.log("Warning");
```
🔹 **What you see:**  
Only the word `"Error"` (red) and `"Warning"` (green) are highlighted.

---

## 5. `git diff --stat` (Summary View)
**Command:**
```bash
git diff --stat
```
**Sample Output:**
```
 index.html | 2 +-
 style.css  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)
```
🔹 **What you see:**  
- Files changed  
- Lines added/removed (no details)  

---

## 6. `git diff --side-by-side` (Split View)
**Command:**
```bash
git diff --side-by-side
```
**Sample Output:**
```
README.md       | 2 +-
1 file changed, 1 insertion(+), 1 deletion(-)

@@ -1,3 +1,3 @@
# Project       | # Project
-Old text      | +New text
```
🔹 **What you see:**  
Left (old) vs Right (new) versions side-by-side.

</details>

---  

<details>
<summary><strong>2. Git Stash</strong></summary>

### 1. `git stash push` (Save Changes)
```bash
git stash push -m "description"  # Always add a message
```
- Saves both staged/unstaged changes
- Workspace reverts to last commit (`HEAD`)
- 🔹 **Replaces old `git stash save`**

### 2. `git stash list` (View Stashes)
```bash
git stash list
```
- Shows stack of stashes (newest = `stash@{0}`)
- Example output:
  ```
  stash@{0}: On main: login page WIP
  stash@{1}: On dev: dark mode experiment
  ```

### 3. `git stash apply` (Reapply Safely)
```bash
git stash apply stash@{n}  # Default: latest (stash@{0})
```
- ✅ **Keeps** the stash in list
- Use when you might need the stash again

### 4. `git stash pop` (Apply + Delete)
```bash
git stash pop stash@{n}  # Default: latest
```
- ✅ Applies changes  
- ❌ **Deletes** the stash  
- Riskier - use only when sure!

## 🧹 Cleanup Commands

### 5. Delete Specific Stash
```bash
git stash drop stash@{1}
```

### 6. Delete ALL Stashes
```bash
git stash clear  # Irreversible!
```

## 💡 Key Differences: Apply vs Pop
| Command          | Reapplies? | Keeps Stash? | Best For                  |
|------------------|-----------|-------------|--------------------------|
| `git stash apply`| ✅ Yes     | ✅ Yes       | Testing changes          |
| `git stash pop`  | ✅ Yes     | ❌ No        | One-time use + cleanup   |

## 🛠️ Real-World Example
1. When interrupted:
   ```bash
   git stash push -m "navbar responsiveness fixes"
   ```
2. After switching back:
   ```bash
   git stash apply  # Test changes
   git stash pop    # Apply + delete (if everything works)
   ```

> ⚠️ **Pro Tip**: Stashes are **local-only** and expire after 90 days by default!

</details>

---  

<details>
<summary><strong>3. Git Tags</strong></summary>

## What is a Tag?
A tag in Git is like a label or bookmark for a specific commit. Tags are most often used to mark important points in your project history, like releases (`v1.0` or `v2.0`).

Tags are a simple and reliable way to:
- Track versions
- Share specific commits with your team or users

### Common Tag Use Cases
- **Releases**: Mark when your project is ready for release
- **Milestones**: Highlight major features or bug fixes
- **Deployment**: Used by tools to identify which version to deploy
- **Hotfixes**: Easily checkout and patch old versions

---

## Key Commands

### Create a Lightweight Tag
```sh
git tag <tagname>
```
- Just a name for a commit (no extra info)
- Like a simple bookmark

### Create an Annotated Tag
```sh
git tag -a <tagname> -m "message"
```
- Stores author, date, and message
- Recommended for releases

### Tag a Specific Commit
```sh
git tag <tagname> <commit-hash>
```
Example:
```sh
git tag v1.1 1a2b3c4d
```

### List All Tags
```sh
git tag
```

### Show Tag Details
```sh
git show <tagname>
```

---

## Pushing Tags
Tags don't get pushed automatically with commits!

### Push a Single Tag
```sh
git push origin <tagname>
```
Example:
```sh
git push origin v1.0
```

### Push All Tags
```sh
git push --tags
```

---

## Managing Tags

### Delete a Local Tag
```sh
git tag -d <tagname>
```

### Delete a Remote Tag
```sh
git push origin --delete tag <tagname>
```

### Update/Replace a Tag (Force Push)
```sh
git tag -f <tagname> <new-commit-hash>
git push --force origin <tagname>
```

---

## Best Practices
✅ Use annotated tags (`-a -m`) for public/shared tags  
✅ Tag releases, milestones, and stable points  
✅ Create tags after passing tests/before deploying  
❌ Avoid force-pushing tags unless absolutely necessary  

---

## Troubleshooting
| Issue | Solution |
|-------|----------|
| Tag exists locally | `git tag -d <tagname>` then recreate |
| Wrong tag pushed | Delete locally & remotely, push correct one |
| Tag missing on remote | Push explicitly with `git push origin <tagname>` |
| Need to move a tag | Force push (caution: affects all collaborators) |

---  

</details>