# AWS EC2

---

## Table of Contents
1. [What is EC2?](#1-what-is-ec2)  


---

<details>
<summary><strong>1. EC2 Basics</strong></summary>

## 1.1 What is EC2?
EC2 stands for **Elastic Compute Cloud**. It is AWS‚Äôs service for creating virtual machines in the cloud.  

Think of it like renting a computer from AWS:
- You choose how much **RAM**, **CPU power**, and **storage** you want.  
- You can increase or decrease these resources as your workload changes (scalable).  

üëâ Use cases:  
- Hosting a website  
- Running applications (databases, APIs, ML workloads)  
- Creating testing/development environments  

---

## 1.2 Billing and Pricing
AWS charges you based on **how long your EC2 instance is running**.  

- **Linux instances** ‚Üí billed **per second** (minimum 60 seconds).  
- **Windows instances** ‚Üí billed **per hour**.  

üìå Example:  
If you start a Linux instance at 10:00:00 and stop at 10:02:15, you are billed for **135 seconds**.  
For Windows, if you run for even 5 minutes, you are billed for the full **1 hour**.  

---

## 1.3 Free Tier EC2
AWS provides a **Free Tier** for new accounts:  
- 750 hours/month of EC2 usage for 12 months  
- Enough to run **one instance continuously** for the whole month  

Free instance types:  
- `t2.micro` ‚Üí older, available in Asia regions  
- `t3.micro` ‚Üí newer, available in US & Europe  

üìå Example: You can launch a free Ubuntu server (`t2.micro`) and practice hosting a small website.  

---

## 1.4 Storage and RAM Defaults
Every EC2 instance needs a **hard disk** to store the operating system and files. AWS uses **EBS (Elastic Block Store)** for this.  

- Default root volume sizes:  
  - Linux ‚Üí **8 GB**  
  - Windows ‚Üí **30 GB**  

‚ö†Ô∏è Important: The **RAM** is decided by the **instance type**, not the OS.  
- Example: `t2.micro` = 1 GB RAM, `t3.medium` = 4 GB RAM.  

üìå Analogy: Think of EBS as your **hard drive**, and RAM as your **computer‚Äôs memory** ‚Äî two different things.  

---

## 1.5 Amazon Machine Image (AMI)
An **AMI** is like a **template** for your EC2 instance. It contains:  
- The operating system (Windows, Linux, Ubuntu, etc.)  
- Pre-installed software (optional)  
- Default settings  

üìå Example:  
- Want a Linux server? ‚Üí Choose Ubuntu AMI  
- Want a Windows desktop? ‚Üí Choose Windows AMI  

---

## 1.6 Instance Types
AWS offers **different categories of instances** depending on what you need:  
- **General Purpose** ‚Üí balanced (web apps)  
- **Compute Optimized** ‚Üí more CPU (batch processing)  
- **Memory Optimized** ‚Üí more RAM (databases, analytics)  
- **GPU Instances** ‚Üí for ML, AI, gaming  

Free Tier examples:  

| Instance | Region      | Free Tier |  
|----------|-------------|-----------|  
| t2.micro | Asia        | Yes       |  
| t3.micro | US, Europe  | Yes       |  

üìå Example: If you just want to practice Linux commands, you don‚Äôt need GPU/memory-heavy instances ‚Äî `t2.micro` is enough.  

---

## 1.7 Key Pair
When you connect to your EC2 via SSH (Linux/Mac) or RDP (Windows), AWS uses **Key Pairs** for authentication.  

- You download a **private key file** when you create the key pair:  
  - On Linux/Mac: `.pem` file  
  - On Windows (PuTTY): `.ppk` file (converted from `.pem`)  
- The **public key** is stored inside the EC2 instance automatically.  
- Together they work like a **lock and key system**.  

üìå Secure the private key with:  
```bash
chmod 400 mykey.pem
````

Without correct permissions, SSH won‚Äôt connect.

---

### üîë Key Pair Authentication Flow

```
[ Your PC ] -- uses private key --> [ SSH Request ] ---> [ EC2 Instance ]
                                           |
                                           v
                              EC2 compares with public key
                                           |
                       +-------------------+-----------------+
                       | Match? YES -> Access Granted ‚úÖ     |
                       | Match? NO  -> Access Denied ‚ùå      |
                       +------------------------------------+
```

---

## 8. Security Groups

A **Security Group** is like a **firewall** that controls traffic to and from your EC2 instance.

* **Inbound rules** ‚Üí define what traffic can come **into** the instance
* **Outbound rules** ‚Üí define what traffic can leave (default = all allowed)
* **Stateful** ‚Üí if inbound is allowed, the reply outbound is automatically allowed

‚úîÔ∏è Common rules:

* Allow HTTP (port 80) ‚Üí normal websites
* Allow HTTPS (port 443) ‚Üí secure websites
* Allow SSH (port 22) ‚Üí remote login

üìå Example:

* Hosting a website? ‚Üí Open port 80 and 443 inbound
* Need remote login? ‚Üí Open port 22 for your IP

---

### üîí Security Group Traffic Flow

```
          [ User's Browser ]
                 |
     HTTP Request on port 80
                 |
                 v
+-------------------------------+
| Security Group (EC2 Firewall) |
| Inbound Rules: Allow 80, 443  |
+-------------------------------+
                 |
                 v
           [ EC2 Instance ]
                 |
     Sends back website response
                 |
  (Outbound allowed automatically)
                 v
          [ User's Browser ]

</details>